<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>test</title>
</head>
<body>
    <div class='wrapper'>
        <!--<button class='like-btn'>
            <span class='like-text'>点赞</span>
            <span>👍</span>
        </button>-->
    </div>
    <script>
        const createDOMFromString = domString => {
            const div = document.createElement('div')
            div.innerHTML = domString
            return div
        }

        class LikeButton {
            constructor (){
                this.state = {isLiked: false}
            }
            setState(state){
                this.state = state
                this.el = this.render()
            }
            changeLikeText() {
                console.log('xxx')
                this.setState({
                    isLiked : !this.state.isLiked
                })
            }
            render() {
                this.el = createDOMFromString( `
                    <button id='like-btn'>
                      <span class='like-text'>${this.state.isLiked?'取消':'喜欢'}</span>
                      <span>👍</span>
                    </button>
              `)
                this.el.addEventListener('click',()=>{
                    this.changeLikeText.bind(this)
                    //this.changeLikeText()
                    console.log('click'),false
                })
                return this.el
            }
        }

        const buttonHtml_1 = new LikeButton().render()
        const buttonHtml_2 = new LikeButton().render()
        const wrapper = document.querySelector('.wrapper')
        wrapper.appendChild(buttonHtml_1)


        console.log(38, buttonHtml_1)

        /*const button = document.querySelector('.like-btn')
        const buttonText = button.querySelector('.like-text')
        let isLiked = false
        button.addEventListener('click', () => {
          isLiked = !isLiked
          if (isLiked) {
            buttonText.innerHTML = '取消'
          } else {
            buttonText.innerHTML = '点赞'
          }
        }, false)*/


    </script>
</body>
</html>